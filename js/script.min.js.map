{"version":3,"sources":["script.js"],"names":["header","document","querySelector","fullpage","licenseKey","recordHistory","classList","add","onLeave","origin","destination","isFirst","overlay","addEventListener","remove","Swiper","loop","effect","fadeEffect","crossFade","navigation","nextEl","prevEl","speed","slidesPerView","spaceBetween","autoplay","delay","breakpoints","1600","1920","3840","pagination","el","clickable","renderBullet","className","concat","index","bulletClass","bulletActiveClass","slidesPerColumn","heroParallaxScenes","i","Parallax","relativeInput","hoverOnly","inputElement","parentNode","pointerEvents","faqQuestions","querySelectorAll","faqAnswers","faqPopup","faqPopupClose","faqPopupQuestion","faqPopupAnswer","_loop","firstChild","evt","textContent","length","preventDefault","window","pageYOffset","labelsSwiper","loopedSlides","partnershipInputs","_loop2","value","phoneInput","phoneInputMask","IMask","mask","lazy","cookies","removeAnimationClassShown","cls","resetCSSAnimation","style","animationDirection","setTimeout","removeAttribute","offsetWidth","cookiesBtn","nextBtn","prevBtn","firstPartnerForm","secondPartnerForm","haveMusicBtn","contains","needMusicBtn"],"mappings":"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","file":"script.min.js","sourcesContent":["let header = document.querySelector(`.header`);\n\n/**\n * Добавление полностраничной прокрутки\n */\nlet fullpage = new fullpage(`#fullpage`, {\n  licenseKey: `YOUR_KEY_HERE`,\n  recordHistory: false,\n  scrollOverflow: true,\n  afterRender() {\n    // Появление соц.иконок и стрелок слайдера\n    // let heroSocials = document.querySelector(`.hero__social`);\n    let heroSliderControls = document.querySelector(`.hero__slider-control`);\n\n    // heroSocials.classList.add(`hero__social--shown`);\n    heroSliderControls.classList.add(`hero__slider-control--shown`);\n  },\n  onLeave(origin, destination) {\n    if (destination.isFirst) {\n      header.classList.remove(`header--hidden`);\n    } else {\n      header.classList.add(`header--hidden`);\n    }\n  }\n});\n\n/**\n * Закрытие попапов по клику на overlay\n */\nlet overlay = document.querySelector(`.overlay`);\n\noverlay.addEventListener(`click`, () => {\n  let shownPopup = document.querySelector(`.popup--shown`);\n\n  removeAnimationClassShown(shownPopup, `popup--shown`);\n  overlay.classList.remove(`overlay--shown`);\n});\n\nif (document.querySelector(`.page--index`)) {\n  /**\n   * Добавление слайдера блока hero\n   */\n  let heroSwiper = new Swiper(`.hero__wrapper`, {\n    loop: true,\n    effect: `fade`,\n    fadeEffect: {\n      crossFade: true\n    },\n    navigation: {\n      nextEl: `.hero__slider-button--right`,\n      prevEl: `.hero__slider-button--left`\n    }\n  });\n\n  /**\n   * Добавление слайдера блока features\n   */\n  let featuresSwiper = new Swiper(`.features__wrapper`, {\n    speed: 1000,\n    loop: true,\n    slidesPerView: 2,\n    spaceBetween: 28,\n    autoplay: {\n      delay: 5000\n    },\n    breakpoints: {\n      1600: {\n        slidesPerView: 3\n      },\n      1920: {\n        slidesPerView: 3,\n        spaceBetween: 18\n      },\n      3840: {\n        slidesPerView: 5,\n        spaceBetween: 28\n      }\n    },\n    pagination: {\n      el: `.features__pagination`,\n      clickable: true,\n      renderBullet(index, className) {\n        return `<button class=\"${className}\" type=\"button\"><span class=\"visually-hidden\">К слайду ${index + 1}</span></button>`;\n      },\n      bulletClass: `slider-pagination__button`,\n      bulletActiveClass: `slider-pagination__button--active`\n    }\n  });\n\n  /**\n   * Добавление слайдера блока services\n   */\n  let servicesSwiper = new Swiper(`.services__wrapper`, {\n    slidesPerView: 3,\n    slidesPerColumn: 2,\n    spaceBetween: 30,\n    breakpoints: {\n      1920: {\n        spaceBetween: 42\n      },\n      3840: {\n        slidesPerView: 4\n      }\n    },\n    pagination: {\n      el: `.services__pagination`,\n      clickable: true,\n      renderBullet(index, className) {\n        return `<button class=\"${className}\" type=\"button\"><span class=\"visually-hidden\">К слайду ${index + 1}</span></button>`;\n      },\n      bulletClass: `slider-pagination__button`,\n      bulletActiveClass: `slider-pagination__button--active`\n    }\n  });\n\n  /**\n   * Добавление параллакса в блоке hero\n   */\n  let heroParallaxScenes = document.querySelectorAll(`.hero__slide-image`);\n\n  for (let i = 0; i < heroParallaxScenes.length; i++) {\n    let heroParallax = new Parallax(heroParallaxScenes[i], {\n      relativeInput: true,\n      hoverOnly: true,\n      inputElement: heroParallaxScenes[i].parentNode.parentNode,\n      pointerEvents: true\n    });\n  }\n\n  /**\n   * Оживление FAQ\n   */\n  let faqQuestions = document.querySelectorAll(`.faq__qa-question`);\n  let faqAnswers = document.querySelectorAll(`.faq__qa-answer`);\n\n  let faqPopup = document.querySelector(`.popup--qa-answer`);\n  let faqPopupClose = faqPopup.querySelector(`.popup__close`);\n  let faqPopupQuestion = faqPopup.querySelector(`.qa-answer__title`);\n  let faqPopupAnswer = faqPopup.querySelector(`.qa-answer__text`);\n\n  for (let i = 0; i < faqQuestions.length; i++) {\n    faqQuestions[i].firstChild.addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n\n      faqPopupQuestion.textContent = faqQuestions[i].firstChild.textContent;\n      faqPopupAnswer.textContent = faqAnswers[i].textContent;\n\n      faqPopup.classList.add(`popup--shown`);\n      overlay.classList.add(`overlay--shown`);\n    });\n  }\n\n  faqPopupClose.addEventListener(`click`, (evt) => {\n    evt.preventDefault();\n    removeAnimationClassShown(faqPopup, `popup--shown`);\n    overlay.classList.remove(`overlay--shown`);\n  });\n}\n\nif (document.querySelector(`.page--inner`)) {\n  /**\n   * Оживление шапки на внутренних страницах\n   */\n  window.addEventListener(`scroll`, () => {\n    if (window.pageYOffset > 0) {\n      header.classList.add(`header--small`);\n    } else {\n      header.classList.remove(`header--small`);\n    }\n  });\n\n  /**\n   * Добавление слайдера блока labels\n   */\n  let labelsSwiper = new Swiper(`.labels__slider-wrapper`, {\n    loop: true,\n    loopedSlides: 9,\n    slidesPerView: `auto`,\n    spaceBetween: 61,\n    navigation: {\n      nextEl: `.labels__slider-button--right`,\n      prevEl: `.labels__slider-button--left`\n    }\n  });\n}\n\n/**\n * Оживление формы\n */\nlet partnershipInputs = document.querySelectorAll(`.partnership__form-field`);\n\nif (partnershipInputs.length) {\n  for (let i = 0; i < partnershipInputs.length; i++) {\n    partnershipInputs[i].firstChild.addEventListener(`input`, () => {\n      if (partnershipInputs[i].firstChild.value) {\n        partnershipInputs[i].firstChild.classList.add(`filled`);\n      } else {\n        partnershipInputs[i].firstChild.classList.remove(`filled`);\n      }\n    });\n  }\n}\n\n/**\n * Добавление маски для телефона в форме\n */\nlet phoneInput = document.querySelector(`.partnership__form-field [type=tel]`);\n\nif (phoneInput) {\n  let phoneInputMask = IMask(phoneInput, {\n    mask: `+{7} (000)000-00-00`,\n    lazy: false\n  });\n}\n\n/**\n * Закрытие панели cookies\n */\nlet cookies = document.querySelector(`.cookies`);\nlet cookiesBtn = cookies.querySelector(`.button`);\n\ncookiesBtn.addEventListener(`click`, (evt) => {\n  evt.preventDefault();\n  cookies.remove();\n});\n\n// if (!document.cookie.split(`; `).find((row) => row.startsWith(`isCookiesAccepted`))) {\n//   cookies.style.display = `block`;\n\n//   let cookiesBtn = cookies.querySelector(`.button`);\n\n//   cookiesBtn.addEventListener(`click`, (evt) => {\n//     evt.preventDefault();\n//     cookies.removeAttribute(`style`);\n//     document.cookie = `isCookiesAccepted=true; expires=Fri, 31 Dec 9999 23:59:59 GMT`;\n//   });\n// }\n\n/**\n * Скрытие элемента (удаляем класс &--shown)\n */\nfunction removeAnimationClassShown(el, cls) {\n  resetCSSAnimation(el, cls);\n  el.style.animationDirection = `reverse`;\n\n  window.setTimeout(() => {\n    el.classList.remove(cls);\n    el.removeAttribute(`style`);\n  }, 300);\n}\n\n/**\n * Сброс CSS-анимации\n */\nfunction resetCSSAnimation(el, cls) {\n  el.classList.remove(cls);\n  void el.offsetWidth;\n  el.classList.add(cls);\n}\n\n/**\n * Открытие дополнительных полей формы\n */\nlet nextBtn = document.querySelector('#nextBtn');\nlet prevBtn = document.querySelector('#prevBtn');\nlet firstPartnerForm = document.querySelector('#firstPartnerForm');\nlet secondPartnerForm = document.querySelector('#secondPartnerForm');\n\nif (nextBtn) {\n  nextBtn.addEventListener('click', function (evt) {\n    firstPartnerForm.classList.remove('partnership__form-stage--active');\n    secondPartnerForm.classList.add('partnership__form-stage--active');\n  });\n}\nif (prevBtn) {\n  prevBtn.addEventListener('click', function (evt) {\n    secondPartnerForm.classList.remove('partnership__form-stage--active');\n    firstPartnerForm.classList.add('partnership__form-stage--active');\n  });\n}\n\n/**\n * Переключение активного заголовка формы\n */\nlet haveMusicBtn = document.querySelector('#haveMusic');\nlet needMusicBtn = document.querySelector('#needMusic');\n\nif (haveMusicBtn) {\n  haveMusicBtn.addEventListener('click', function () {\n    if (!haveMusicBtn.classList.contains('partnership__form-variant--active')) {\n      haveMusicBtn.classList.add('partnership__form-variant--active');\n      needMusicBtn.classList.remove('partnership__form-variant--active');\n    }\n  });\n}\nif (needMusicBtn) {\n  needMusicBtn.addEventListener('click', function () {\n    if (!needMusicBtn.classList.contains('partnership__form-variant--active')) {\n      needMusicBtn.classList.add('partnership__form-variant--active');\n      haveMusicBtn.classList.remove('partnership__form-variant--active');\n    }\n  });\n}\n"]}