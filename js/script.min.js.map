{"version":3,"sources":["script.js"],"names":["header","document","querySelector","fullpage","licenseKey","recordHistory","classList","add","onLeave","origin","destination","isFirst","overlay","addEventListener","remove","Swiper","loop","effect","fadeEffect","crossFade","navigation","nextEl","prevEl","speed","slidesPerView","spaceBetween","autoplay","delay","breakpoints","1600","1920","3840","pagination","el","clickable","renderBullet","className","concat","index","bulletClass","bulletActiveClass","slidesPerColumn","heroParallaxScenes","i","Parallax","relativeInput","hoverOnly","inputElement","parentNode","pointerEvents","faqQuestions","querySelectorAll","faqAnswers","faqPopup","faqPopupClose","faqPopupQuestion","faqPopupAnswer","_loop","firstChild","evt","textContent","length","preventDefault","window","pageYOffset","labelsSwiper","about","aboutSwiper","type","num","slice","formatFractionCurrent","formatFractionTotal","totalClass","renderFraction","currentClass","swiper","slides","activeIndex","contains","partnershipInputs","_loop2","value","phoneInput","phoneInputMask","IMask","mask","lazy","cookies","removeAnimationClassShown","cls","resetCSSAnimation","style","animationDirection","setTimeout","removeAttribute","offsetWidth","cookiesBtn","nextBtn","prevBtn","firstPartnerForm","secondPartnerForm","haveMusicBtn","needMusicBtn"],"mappings":"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","file":"script.min.js","sourcesContent":["let header = document.querySelector(`.header`);\n\n/**\n * Добавление полностраничной прокрутки\n */\nlet fullpage = new fullpage(`#fullpage`, {\n  licenseKey: `YOUR_KEY_HERE`,\n  recordHistory: false,\n  scrollOverflow: true,\n  afterRender() {\n    // Появление соц.иконок и стрелок слайдера\n    // let heroSocials = document.querySelector(`.hero__social`);\n    let heroSliderControls = document.querySelector(`.hero__slider-control`);\n\n    // heroSocials.classList.add(`hero__social--shown`);\n    heroSliderControls.classList.add(`hero__slider-control--shown`);\n  },\n  onLeave(origin, destination) {\n    if (destination.isFirst) {\n      header.classList.remove(`header--hidden`);\n    } else {\n      header.classList.add(`header--hidden`);\n    }\n  }\n});\n\n/**\n * Закрытие попапов по клику на overlay\n */\nlet overlay = document.querySelector(`.overlay`);\n\noverlay.addEventListener(`click`, () => {\n  let shownPopup = document.querySelector(`.popup--shown`);\n\n  removeAnimationClassShown(shownPopup, `popup--shown`);\n  overlay.classList.remove(`overlay--shown`);\n});\n\nif (document.querySelector(`.page--index`)) {\n  /**\n   * Добавление слайдера блока hero\n   */\n  let heroSwiper = new Swiper(`.hero__wrapper`, {\n    loop: true,\n    effect: `fade`,\n    fadeEffect: {\n      crossFade: true\n    },\n    navigation: {\n      nextEl: `.hero__slider-button--right`,\n      prevEl: `.hero__slider-button--left`\n    }\n  });\n\n  /**\n   * Добавление слайдера блока features\n   */\n  let featuresSwiper = new Swiper(`.features__wrapper`, {\n    speed: 1000,\n    loop: true,\n    slidesPerView: 2,\n    spaceBetween: 28,\n    autoplay: {\n      delay: 5000\n    },\n    breakpoints: {\n      1600: {\n        slidesPerView: 3\n      },\n      1920: {\n        slidesPerView: 3,\n        spaceBetween: 18\n      },\n      3840: {\n        slidesPerView: 5,\n        spaceBetween: 28\n      }\n    },\n    pagination: {\n      el: `.features__pagination`,\n      clickable: true,\n      renderBullet(index, className) {\n        return `<button class=\"${className}\" type=\"button\"><span class=\"visually-hidden\">К слайду ${index + 1}</span></button>`;\n      },\n      bulletClass: `slider-pagination__button`,\n      bulletActiveClass: `slider-pagination__button--active`\n    }\n  });\n\n  /**\n   * Добавление слайдера блока services\n   */\n  let servicesSwiper = new Swiper(`.services__wrapper`, {\n    slidesPerView: 3,\n    slidesPerColumn: 2,\n    spaceBetween: 30,\n    breakpoints: {\n      1920: {\n        spaceBetween: 42\n      },\n      3840: {\n        slidesPerView: 4\n      }\n    },\n    pagination: {\n      el: `.services__pagination`,\n      clickable: true,\n      renderBullet(index, className) {\n        return `<button class=\"${className}\" type=\"button\"><span class=\"visually-hidden\">К слайду ${index + 1}</span></button>`;\n      },\n      bulletClass: `slider-pagination__button`,\n      bulletActiveClass: `slider-pagination__button--active`\n    }\n  });\n\n  /**\n   * Добавление параллакса в блоке hero\n   */\n  let heroParallaxScenes = document.querySelectorAll(`.hero__slide-image`);\n\n  for (let i = 0; i < heroParallaxScenes.length; i++) {\n    let heroParallax = new Parallax(heroParallaxScenes[i], {\n      relativeInput: true,\n      hoverOnly: true,\n      inputElement: heroParallaxScenes[i].parentNode.parentNode,\n      pointerEvents: true\n    });\n  }\n\n  /**\n   * Оживление FAQ\n   */\n  let faqQuestions = document.querySelectorAll(`.faq__qa-question`);\n  let faqAnswers = document.querySelectorAll(`.faq__qa-answer`);\n\n  let faqPopup = document.querySelector(`.popup--qa-answer`);\n  let faqPopupClose = faqPopup.querySelector(`.popup__close`);\n  let faqPopupQuestion = faqPopup.querySelector(`.qa-answer__title`);\n  let faqPopupAnswer = faqPopup.querySelector(`.qa-answer__text`);\n\n  for (let i = 0; i < faqQuestions.length; i++) {\n    faqQuestions[i].firstChild.addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n\n      faqPopupQuestion.textContent = faqQuestions[i].firstChild.textContent;\n      faqPopupAnswer.textContent = faqAnswers[i].textContent;\n\n      faqPopup.classList.add(`popup--shown`);\n      overlay.classList.add(`overlay--shown`);\n    });\n  }\n\n  faqPopupClose.addEventListener(`click`, (evt) => {\n    evt.preventDefault();\n    removeAnimationClassShown(faqPopup, `popup--shown`);\n    overlay.classList.remove(`overlay--shown`);\n  });\n}\n\nif (document.querySelector(`.page--inner`)) {\n  /**\n   * Оживление шапки на внутренних страницах\n   */\n  window.addEventListener(`scroll`, () => {\n    if (window.pageYOffset > 0) {\n      header.classList.add(`header--small`);\n    } else {\n      header.classList.remove(`header--small`);\n    }\n  });\n\n  /**\n   * Добавление слайдера блока labels\n   */\n  let labelsSwiper = new Swiper(`.labels__slider-wrapper`, {\n    loop: true,\n    slidesPerView: 9,\n    spaceBetween: 31,\n    breakpoints: {\n      1920: {\n        slidesPerView: 15,\n        spaceBetween: 25\n      },\n      3840: {\n        slidesPerView: 12,\n        spaceBetween: 62\n      }\n    },\n    navigation: {\n      nextEl: `.labels__slider-button--right`,\n      prevEl: `.labels__slider-button--left`\n    }\n  });\n\n  /**\n   * Добавление слайдера блока о компании\n   */\n  let about = document.querySelector(`.about`);\n  let aboutSwiper = new Swiper(`.about__wrapper`, {\n    loop: true,\n    effect: `fade`,\n    fadeEffect: {\n      crossFade: true\n    },\n    navigation: {\n      nextEl: `.about__slider-button--right`,\n      prevEl: `.about__slider-button--left`\n    },\n    pagination: {\n      el: `.about__slider-pagination`,\n      type: `fraction`,\n      formatFractionCurrent(num) {\n        return `0${num}`.slice(-2);\n      },\n      formatFractionTotal(num) {\n        return `0${num}`.slice(-2);\n      },\n      renderFraction(currentClass, totalClass) {\n        return `<span class=\"${currentClass}\"></span> / <span class=\"${totalClass}\"></span>`;\n      },\n      currentClass: `about__slider-pagination-current`,\n      totalClass: `about__slider-pagination-total`\n    },\n    on: {\n      slideChange(swiper) {\n        if (swiper.slides[swiper.activeIndex].classList.contains(`about__slide--dark`)) {\n          about.classList.add(`about--dark`);\n        } else {\n          about.classList.remove(`about--dark`);\n        }\n      }\n    }\n  });\n}\n\n/**\n * Оживление формы\n */\nlet partnershipInputs = document.querySelectorAll(`.partnership__form-field`);\n\nif (partnershipInputs.length) {\n  for (let i = 0; i < partnershipInputs.length; i++) {\n    partnershipInputs[i].firstChild.addEventListener(`input`, () => {\n      if (partnershipInputs[i].firstChild.value) {\n        partnershipInputs[i].firstChild.classList.add(`filled`);\n      } else {\n        partnershipInputs[i].firstChild.classList.remove(`filled`);\n      }\n    });\n  }\n}\n\n/**\n * Добавление маски для телефона в форме\n */\nlet phoneInput = document.querySelector(`.partnership__form-field [type=tel]`);\n\nif (phoneInput) {\n  let phoneInputMask = IMask(phoneInput, {\n    mask: `+{7} (000)000-00-00`,\n    lazy: false\n  });\n}\n\n/**\n * Закрытие панели cookies\n */\nlet cookies = document.querySelector(`.cookies`);\nlet cookiesBtn = cookies.querySelector(`.button`);\n\ncookiesBtn.addEventListener(`click`, (evt) => {\n  evt.preventDefault();\n  cookies.remove();\n});\n\n// if (!document.cookie.split(`; `).find((row) => row.startsWith(`isCookiesAccepted`))) {\n//   cookies.style.display = `block`;\n\n//   let cookiesBtn = cookies.querySelector(`.button`);\n\n//   cookiesBtn.addEventListener(`click`, (evt) => {\n//     evt.preventDefault();\n//     cookies.removeAttribute(`style`);\n//     document.cookie = `isCookiesAccepted=true; expires=Fri, 31 Dec 9999 23:59:59 GMT`;\n//   });\n// }\n\n/**\n * Скрытие элемента (удаляем класс &--shown)\n */\nfunction removeAnimationClassShown(el, cls) {\n  resetCSSAnimation(el, cls);\n  el.style.animationDirection = `reverse`;\n\n  window.setTimeout(() => {\n    el.classList.remove(cls);\n    el.removeAttribute(`style`);\n  }, 300);\n}\n\n/**\n * Сброс CSS-анимации\n */\nfunction resetCSSAnimation(el, cls) {\n  el.classList.remove(cls);\n  void el.offsetWidth;\n  el.classList.add(cls);\n}\n\n/**\n * Открытие дополнительных полей формы\n */\nlet nextBtn = document.querySelector('#nextBtn');\nlet prevBtn = document.querySelector('#prevBtn');\nlet firstPartnerForm = document.querySelector('#firstPartnerForm');\nlet secondPartnerForm = document.querySelector('#secondPartnerForm');\n\nif (nextBtn) {\n  nextBtn.addEventListener('click', function (evt) {\n    firstPartnerForm.classList.remove('partnership__form-stage--active');\n    secondPartnerForm.classList.add('partnership__form-stage--active');\n  });\n}\nif (prevBtn) {\n  prevBtn.addEventListener('click', function (evt) {\n    secondPartnerForm.classList.remove('partnership__form-stage--active');\n    firstPartnerForm.classList.add('partnership__form-stage--active');\n  });\n}\n\n/**\n * Переключение активного заголовка формы\n */\nlet haveMusicBtn = document.querySelector('#haveMusic');\nlet needMusicBtn = document.querySelector('#needMusic');\n\nif (haveMusicBtn) {\n  haveMusicBtn.addEventListener('click', function () {\n    if (!haveMusicBtn.classList.contains('partnership__form-variant--active')) {\n      haveMusicBtn.classList.add('partnership__form-variant--active');\n      needMusicBtn.classList.remove('partnership__form-variant--active');\n    }\n  });\n}\nif (needMusicBtn) {\n  needMusicBtn.addEventListener('click', function () {\n    if (!needMusicBtn.classList.contains('partnership__form-variant--active')) {\n      needMusicBtn.classList.add('partnership__form-variant--active');\n      haveMusicBtn.classList.remove('partnership__form-variant--active');\n    }\n  });\n}\n"]}